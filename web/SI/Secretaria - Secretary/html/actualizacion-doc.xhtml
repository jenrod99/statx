<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:html5="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
        <link rel="icon" type="img/png" href="../../../img/logo1.png"/>
        <link rel="stylesheet" href="../../../css/bootstrap.min.css"/>
        <link rel="stylesheet" href="../../css/estilos-secretaria/estilos-actualizacion.css"/>
        <link rel="stylesheet" href="../../css/estilos-secretaria/estilos-activacion.css"/>
        <title>#{men.actl}</title>
        <f:loadBundle var="men" basename="././edu.statx.properties.#{idiomaSession.idioma == null ? 'espaniol':idiomaSession.idioma}"></f:loadBundle>
    </h:head>
    <h:body>
        <!-- Navegación -->

        <nav id="inicio" class="navegacion">
            <ul>
                <li class="borde"><a class="enlace" href="#solicitudes">#{men.doct}</a></li>
            </ul>
        </nav>
        <!-- Actualizar datos de usuario -->

        <section id="actualizar">

            <table class="table1">
                <tr>
                    <td class="uno col-uno">#{men.con}</td>
                    <td class="uno" colspan="2">#{men.ulActl}</td>
                </tr>
                <c:forEach var="act" varStatus="paso" items="#{usuarioSession.listaConductores()}">
                    <tr>
                        <td class="in bor">#{act[0]}#{act[5]}</td>
                        <td class="cont bor">#{act[11]}<i class="fas fa-search"></i><a></a></td>
                        <td class="cont btn1 bor" colspan="1"><a href="#modal-act#{paso.index+1}" data-toggle="modal">#{men.actr}</a></td>
                    </tr>
                </c:forEach>
                
            </table>

            <c:forEach var="act" varStatus="paso" items="#{usuarioSession.listaConductores()}">
            <div class="modal fade" id="modal-act#{paso.index+1}">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="borde-caja col-10">#{act[0]} #{act[5]}</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
                                &times;
                            </button>
                        </div>
                        <div class="modal-body">

                            <!-- Tabla de actualización -->
                            <h:panelGroup>
                                <h:form class="form-s">
                                    <div class="form-se-enc">
                                        <h5 style="color:white; margin-top: 8px;">#{men.actl}</h5>
                                    </div>
                                    <div class="form-row form-s col-12">
                                        <div class="col-md-4">
                                            <label for="inputName">#{men.concNom}</label>
                                        </div>
                                        <div class="col-md-6">
                                            <h:inputText id="nombres"
                                                         class="form-control" html5:placeholder="#{act[0]}"
                                                         html5:disabled="true">
                                            </h:inputText>
                                        </div>
                                    </div>

                                    <div class="form-row form-s col-12">
                                        <div class="col-md-4">
                                            <label for="inputName">#{men.aplML}</label>
                                        </div>
                                        <div class="col-md-6">
                                            <h:inputText id="apellido" 
                                                         class="form-control" html5:placeholder="#{act[5]}"
                                                         html5:disabled="true">
                                            </h:inputText>
                                        </div>
                                    </div>
                                    <div class="form-row form-s col-12">
                                        <div class="col-md-4">
                                            <label>#{men.vehAsig}</label>
                                        </div>
                                        <div class="col-md-6">
                                            <h:inputText id="vehiculo" 
                                                         class="form-control" html5:placeholder="#{act[7]}"
                                                         html5:disabled="true">
                                            </h:inputText>
                                        </div>
                                    </div>
                                    <div class="form-row form-s col-12">
                                        <div class="col-md-4">
                                            <label for="inputName">#{men.aplMLict}</label>
                                        </div>
                                        <div class="col-md-6">
                                            <h:inputText id="licencia" requiredMessage="Ingrese el número de licencia"
                                                         validatorMessage="Ingrese un número de licencia válido"
                                                         class="form-control" html5:placeholder="#{act[6]}"
                                                         html5:required="true" value="#{usuarioSession.numnero_licencia}">
                                                <f:validateLength minimum="2" maximum="15"></f:validateLength>
                                            </h:inputText>
                                            <div>
                                                <h:message for="licencia" showSummary="false"
                                                           style="color:#dc3545"></h:message>
                                            </div> 
                                        </div>
                                    </div>
                                    <div class="form-row form-s col-12">
                                        <div class="col-md-4">
                                            <label for="inputName">#{men.soat}</label>
                                        </div>
                                        <div class="col-md-6">
                                            <h:inputText id="soat" requiredMessage="Ingrese el número de póliza"
                                                         validatorMessage="Ingrese un número de póliza válido"
                                                         class="form-control" html5:placeholder="#{act[8]}"
                                                         html5:required="true" value="#{usuarioSession.soat}">
                                                <f:validateLength minimum="5" maximum="15"></f:validateLength>
                                            </h:inputText>
                                            <div>
                                                <h:message for="soat" showSummary="false"
                                                           style="color:#dc3545"></h:message>
                                            </div> 
                                        </div>
                                    </div>
                                    <div class="form-row form-s col-12">
                                        <div class="col-md-4">
                                            <label for="inputName">#{men.numRevTec}</label>
                                        </div>
                                        <div class="col-md-6">
                                            <h:inputText id="tecn" requiredMessage="Ingrese el número de control"
                                                         validatorMessage="Ingrese un número de control válido"
                                                         class="form-control" html5:placeholder="#{act[9]}"
                                                         html5:required="true" value="#{usuarioSession.tecnomecanica}">
                                                <f:validateLength minimum="5" maximum="15"></f:validateLength>
                                            </h:inputText>
                                            <div>
                                                <h:message for="tecn" showSummary="false"
                                                           style="color:#dc3545"></h:message>
                                            </div> 
                                        </div>
                                    </div>
                                    <div class="form-row form-s col-12">
                                        <div class="col-md-4">
                                            <label for="inputName">#{men.numTarj}</label>
                                        </div>
                                        <div class="col-md-6">
                                            <h:inputText id="tarjeton" requiredMessage="Ingrese el número de tarjeta"
                                                         validatorMessage="Ingrese un número de tarjeta válido"
                                                         class="form-control" html5:placeholder="#{act[10]}"
                                                         html5:required="true" value="#{usuarioSession.tarjeton}">
                                                <f:validateLength minimum="5" maximum="15"></f:validateLength>
                                            </h:inputText>
                                            <div>
                                                <h:message for="tarjeton" showSummary="false"
                                                           style="color:#dc3545"></h:message>
                                            </div> 
                                        </div>
                                    </div>


                                    <div class="row col-12  justify-content-center">
                                        <h:commandButton html5:type="submit" class="btn btn-s col-3" style="margin-top: 15px;"
                                                         value="#{men.actr}" action="#{usuarioSession.actCon(act[12], act[13])}"></h:commandButton>
                                    </div>

                                </h:form>
                            </h:panelGroup>
                        </div>
                    </div>
                </div>
            </div>
            </c:forEach>
        </section>

        <!--Java Script-->
        <script src="../../../js/jquery-3.3.1.slim.min.js"></script>
        <script src="../../../js/popper.min.js"></script>
        <script src="../../../js/bootstrap.min.js"></script>
        <script src="../../../js/form-statx-script.js"></script>
    </h:body>
</html>

